<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Telecoms Calc</title> 
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <h1>Telecommunications Calculators & Tools</h1>
        <h2>This application provides various tools for calculating the...</h2>

        <div class="container" id="cont1">
            <div class="tools" id="tool1">
                <h2>Bandwidth Efficiency to SNR Converter</h2>
                <form class = "forms" id="be-form">
                    <input type="text" id="input1" name="input1" placeholder="Give a BE value in bps/Hz" required>
                    <button type="submit">Calculate SNR</button>                    
                    <button type="reset">Clear</button>
                    <div id="betosnr"></div>
                    
                </form>            
                <form class = "forms" id="snr-form">
                    <input type="text" id="input2" name="input2" placeholder="Give a SNR value in dB" required>
                    <button type="submit">Calculate BE</button>
                    <button type="reset">Clear</button>
                    <div id="snrtobe"> </div>
                </form>
            </div>
            <div class="tools" id="tool2">
                <h2>Tool 2</h2>
            </div>
        </div>

        <div class="container" id="cont2">
            <div class="tools" id="tool3">
                <h2>Tool 3</h2>
            </div>
            <div class="tools" id="tool4">
                <h2>Tool 4</h2>
            </div>
        </div>

        <script>
            //JS Code for the BE to SNR Converter

            //variables for the BE to SNR conversion
            const beform = document.getElementById('be-form');
            const betosnrDiv = document.getElementById('betosnr');

            //event listener for the form submission
            beform.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission

                var be = parseFloat(document.getElementById('input1').value);
                var snr = Math.pow(2, be) - 1;
                var snr_db = 10 * Math.log10(snr);
                
                betosnrDiv.textContent = `SNR = ${snr_db.toFixed(2)} dB`;

                //adding style for result box
                betosnrDiv.style.backgroundColor = '#fff';
                betosnrDiv.style.border = '4px solid #011f4b';
                betosnrDiv.style.borderRadius = '10px';
                betosnrDiv.style.width = '100px';
                betosnrDiv.style.height = '40px';
                betosnrDiv.style.flex = '1';
                betosnrDiv.style.marginLeft = '10px';
                betosnrDiv.style.display = 'flex';
                betosnrDiv.style.alignItems = 'center';
                });

            //event listener for the reset button
            beform.addEventListener('reset', function(event) {
                betosnrDiv.textContent = '';

                //removing result box
                betosnrDiv.style.backgroundColor = '';
                betosnrDiv.style.border = '';
                betosnrDiv.style.borderRadius = '';
                betosnrDiv.style.width = '';
                betosnrDiv.style.height = '';
                betosnrDiv.style.flex = '';
                betosnrDiv.style.marginLeft = '';
                betosnrDiv.style.display = '';
                betosnrDiv.style.alignItems = '';
            });


            //variables for the SNR to BE conversion
            const snrform = document.getElementById('snr-form');
            const snrtobeDiv = document.getElementById('snrtobe');

            //event listener for the form submission
            snrform.addEventListener('submit', function(event) {
                event.preventDefault(); // Prevent default form submission

                var snr_db = parseFloat(document.getElementById('input2').value);
                var snr = Math.pow(10, snr_db/10);
                var be = Math.log2(snr+1);
                
                snrtobeDiv.textContent = `BE = ${be.toFixed(2)} bps/Hz`;

                //adding style for result box
                snrtobeDiv.style.backgroundColor = '#fff';
                snrtobeDiv.style.border = '4px solid #011f4b';
                snrtobeDiv.style.borderRadius = '10px';
                snrtobeDiv.style.width = '100px';
                snrtobeDiv.style.height = '40px';
                snrtobeDiv.style.flex = '1';
                snrtobeDiv.style.marginLeft = '10px';
                snrtobeDiv.style.display = 'flex';
                snrtobeDiv.style.alignItems = 'center';
            });

            //event listener for the reset button
            snrform.addEventListener('reset', function(event) {
                snrtobeDiv.textContent = '';

                //removing result box
                snrtobeDiv.style.backgroundColor = '';
                snrtobeDiv.style.border = '';
                snrtobeDiv.style.borderRadius = '';
                snrtobeDiv.style.width = '';
                snrtobeDiv.style.height = '';
                snrtobeDiv.style.flex = '';
                snrtobeDiv.style.marginLeft = '';
                snrtobeDiv.style.display = '';
                snrtobeDiv.style.alignItems = '';
            });

            //---------------------------------------------------------------------------------------------//
        </script>
    </body>
</html>